# How to create GJs for a circuit
**** -  Create touches using touch detection


def set_stages_settings():
    stages_settings  = {'0_rm_correction':{'procedure_type':'rm_correction',
                                            'remove_channels':'all',
                                            'disable_holding':False},
                        '1_extract_holding_voltage':{'remove_channels':False,
                                                    'procedure_type':'validation_sim',
                                                    'remove_channels':'none',
                                                    'stim_num':1,
                                                    'stim_dur':1,
                                                    'stim_isi':3000,
                                                    'stim_amp':0.0000000001,
                                                    'disable_holding':False,
                                                    'gjc':0.0,
                                                    'manual_MEComboInfoFile':False,
                                                    'load_g_pas':False },
                        '2_find_correct_holding':{'remove_channels':False,
                                                    'procedure_type':'find_holding_current',
                                                    'remove_channels':'none',
                                                    'vc_amp':circuit_to_run[circ]['base_path'] +'/validation_sim/stim_amp1em10_stim_num1_stim_dur1_stim_isi3000/Circ_' +  circuit_to_run[circ]['circuit_target'] + '_Remove_ch_none_Det_stoch_True_Dis_holding_False_gjc0p0_Change_mecomb_False_manual_MEComboInfoFile_False_Load_g_pas_False/num_0/v_per_gid.hdf5',
                                                    'load_g_pas':circuit_to_run[circ]['base_path'] +'/rm_correction/Circ_' +  circuit_to_run[circ]['circuit_target'] + '_Remove_ch_all_Det_stoch_True_Dis_holding_False_Correc_type_impedance_tool_Cm0p01_Num_iter_10/num_0/g_pas_passive.hdf5',
                                                    'stim_num':1,
                                                    'stim_dur':1,
                                                    'stim_isi':3000,
                                                    'stim_amp':0.0000000001,
                                                    'disable_holding':False,
                                                    'gjc':gjc,
                                                    'manual_MEComboInfoFile':False,
                                                    },
                        '3_validation_sim_with_gj':{'remove_channels':False,
                                                    'procedure_type':'validation_sim',
                                                    'load_g_pas':circuit_to_run[circ]['base_path'] +'/rm_correction/Circ_' +  circuit_to_run[circ]['circuit_target'] + '_Remove_ch_all_Det_stoch_True_Dis_holding_False_Correc_type_impedance_tool_Cm0p01_Num_iter_10/num_0/g_pas_passive.hdf5',
                                                    'manual_MEComboInfoFile':circuit_to_run[circ]['base_path'] +'/find_holding_current/vc_ampFile/Circ_' + circuit_to_run[circ]['circuit_target'] + '_Remove_ch_none_Det_stoch_True_Dis_holding_False_gjc' + str(gjc).replace('.','p') + '_Change_mecomb_False_manual_MEComboInfoFile_False_Load_g_pas_True_Correc_iter_loadlast/num_0/holding_per_gid.hdf5',
                                                    'remove_channels':'none',
                                                    'stim_num':1,
                                                    'stim_dur':1000,
                                                    'stim_isi':400,
                                                    'stim_amp':-70,
                                                    'disable_holding':False,
                                                    'gjc':gjc},
                        '4_validation_sim_with_gj':{'remove_channels':False,
                                                    'procedure_type':'validation_sim',
                                                    'load_g_pas':False,
                                                    'manual_MEComboInfoFile':False,
                                                    'remove_channels':'none',
                                                    'stim_num':1,
                                                    'stim_dur':1000,
                                                    'stim_isi':400,
                                                    'stim_amp':-70,
                                                    'disable_holding':False,
                                                    'gjc':0.0},
                        }
    return(stages_settings)
